(function(e){var t={autoParentDetection:true,autoActiveDetection:true,itemsUniqueClasses:true,parentClass:"parent",activeClass:"active",selectedClass:"selected",expandClass:"opened",collapseClass:"closed",spoilerButtonClickMinX:4,spoilerButtonClickMaxX:20,spoilerButtonClickMinY:8,spoilerButtonClickMaxY:24,slideEffect:true};var n={init:function(n){var r=e.extend({},t,n);var i=this.find("li");e.each(i,function(t,n){n=e(n);if(r.autoParentDetection){if(n.has("ul")[0]){n.addClass(r.parentClass)}}if(r.itemsUniqueClasses){n.addClass("item-"+t)}});var s=this.find("."+r.parentClass);e.each(s,function(t,n){n=e(n);n.addClass(r.collapseClass);if(n.has("."+r.selectedClass)[0]){n.removeClass(r.collapseClass).addClass(r.expandClass);if(r.autoActiveDetection){n.addClass(r.activeClass)}}if(n.hasClass(r.selectedClass)){n.removeClass(r.activeClass).removeClass(r.collapseClass).addClass(r.expandClass)}});e("."+r.collapseClass+" > ul",this).hide();e("."+r.parentClass+" > a",this).click(function(t){var n=e(this).offset().left;var i=e(this).offset().top;var s=t.pageX-n;var o=t.pageY-i;if(s<=r.spoilerButtonClickMaxX&&s>=r.spoilerButtonClickMinX&&o<=r.spoilerButtonClickMaxY&&o>=r.spoilerButtonClickMinY){var u=e(this).parent("li");var a=e(this).parent("li").children("ul");u.toggleClass(r.expandClass).toggleClass(r.collapseClass);if(r.slideEffect){a.slideToggle()}else{a.toggle()}t.preventDefault()}})}};e.fn.ntm=function(t){if(n[t]){return n[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return n.init.apply(this,arguments)}else{e.error('Метод "'+t+'" не найден в плагине jQuery.ntm')}}})(jQuery)